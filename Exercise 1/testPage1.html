<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Video.js DNA Plugin</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
    <link rel="stylesheet" href="//samples.streamroot.io/web/assets/demo-pages.css">

    <!-- Makes the header -->
    <script src="//samples.streamroot.io/web/assets/header.js"></script>

    <!-- Video.js Builds -->
    <link href="//vjs.zencdn.net/7.4.1/video-js.min.css" rel="stylesheet">
    <script src="//vjs.zencdn.net/7.4.1/video.min.js"></script>

    <!-- Streamroot Builds -->
    <script src="//cdn.streamroot.io/videojs-hls-dna-plugin/1/stable/videojs-hls-dna-plugin.js#streamrootKey=da32565b-dd31-4ae8-9be7-951d6ca79621"></script>
    <script src="//cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js"></script>

    <!-- Graphs -->
    <script src="//tools.streamroot.io/usage-graphs/stable/graphs.js"></script>
</head>

<body>
    <header></header>
    <button id="button">Disable P2P</button>
    <center>
        <div>
            <video id=demoplayer width=512 height=288 class="video-js vjs-default-skin" controls autoplay muted>
                <!-- Test Video -->
                <source src='http://vod-l3.delivery.streamroot.io/vodOrigin/tos1500.mp4/playlist.m3u8' type="application/x-mpegURL">
            </video>
        </div>
        <div id="streamroot-graphs"></div>
    </center>
    <script>
        let isEnabled = true;
        function contentIdFn(contentUrl) {
            if (isEnabled) return 'hi';
            else {return 'bye'}
        }
        var options = {
            dnaConfig: {
                "contentIdGenerator" : contentIdFn
            },
            html5: {
                hlsjsConfig: {}
            }
        };
        var player = videojs('demoplayer', options);
        var button = document.getElementById('button');
        button.onclick = function () {
            isEnabled = false;
            videojs('demoplayer', options);
        }
    </script>

</body>
â€‹

</html>